{
  "version": 3,
  "sources": ["../../@react-spring/parallax/dist/react-spring_parallax.modern.mjs"],
  "sourcesContent": ["// src/index.tsx\r\nimport * as React from \"react\";\r\nimport { useContext, useState, useRef, useEffect } from \"react\";\r\nimport { useMemoOne, useOnce, raf } from \"@react-spring/shared\";\r\nimport {\r\n  a,\r\n  Controller,\r\n  config as configs\r\n} from \"@react-spring/web\";\r\nvar ParentContext = React.createContext(null);\r\nfunction getScrollType(horizontal) {\r\n  return horizontal ? \"scrollLeft\" : \"scrollTop\";\r\n}\r\nfunction mapChildrenRecursive(children, callback) {\r\n  const isReactFragment = (node) => {\r\n    if (node.type) {\r\n      return node.type === React.Fragment;\r\n    }\r\n    return node === React.Fragment;\r\n  };\r\n  return React.Children.map(\r\n    children,\r\n    (child) => isReactFragment(child) ? mapChildrenRecursive(child.props.children, callback) : callback(child)\r\n  );\r\n}\r\nvar START_TRANSLATE_3D = \"translate3d(0px,0px,0px)\";\r\nvar START_TRANSLATE = \"translate(0px,0px)\";\r\nvar ParallaxLayer = React.memo(\r\n  React.forwardRef(\r\n    ({ horizontal, factor = 1, offset = 0, speed = 0, sticky, ...rest }, ref) => {\r\n      const parent = useContext(ParentContext);\r\n      const ctrl = useMemoOne(() => {\r\n        let translate;\r\n        if (sticky) {\r\n          const start = sticky.start || 0;\r\n          translate = start * parent.space;\r\n        } else {\r\n          const targetScroll = Math.floor(offset) * parent.space;\r\n          const distance = parent.space * offset + targetScroll * speed;\r\n          translate = -(parent.current * speed) + distance;\r\n        }\r\n        return new Controller({\r\n          space: sticky ? parent.space : parent.space * factor,\r\n          translate\r\n        });\r\n      }, []);\r\n      const layer = useMemoOne(\r\n        () => ({\r\n          horizontal: horizontal === void 0 || sticky ? parent.horizontal : horizontal,\r\n          sticky: void 0,\r\n          isSticky: false,\r\n          setPosition(height, scrollTop, immediate = false) {\r\n            if (sticky) {\r\n              setSticky(height, scrollTop);\r\n            } else {\r\n              const targetScroll = Math.floor(offset) * height;\r\n              const distance = height * offset + targetScroll * speed;\r\n              ctrl.start({\r\n                translate: -(scrollTop * speed) + distance,\r\n                config: parent.config,\r\n                immediate\r\n              });\r\n            }\r\n          },\r\n          setHeight(height, immediate = false) {\r\n            ctrl.start({\r\n              space: sticky ? height : height * factor,\r\n              config: parent.config,\r\n              immediate\r\n            });\r\n          }\r\n        }),\r\n        []\r\n      );\r\n      useOnce(() => {\r\n        if (sticky) {\r\n          const start = sticky.start || 0;\r\n          const end = sticky.end || start + 1;\r\n          layer.sticky = { start, end };\r\n        }\r\n      });\r\n      React.useImperativeHandle(ref, () => layer);\r\n      const layerRef = useRef(void 0);\r\n      const setSticky = (height, scrollTop) => {\r\n        const start = layer.sticky.start * height;\r\n        const end = layer.sticky.end * height;\r\n        const isSticky = scrollTop >= start && scrollTop <= end;\r\n        if (isSticky === layer.isSticky) return;\r\n        layer.isSticky = isSticky;\r\n        const ref2 = layerRef.current;\r\n        ref2.style.position = isSticky ? \"sticky\" : \"absolute\";\r\n        ctrl.set({\r\n          translate: isSticky ? 0 : scrollTop < start ? start : end\r\n        });\r\n      };\r\n      useOnce(() => {\r\n        if (parent) {\r\n          parent.layers.add(layer);\r\n          parent.update();\r\n          return () => {\r\n            parent.layers.delete(layer);\r\n            parent.update();\r\n          };\r\n        }\r\n      });\r\n      const translate3d = ctrl.springs.translate.to(\r\n        layer.horizontal ? (x) => `translate3d(${x}px,0,0)` : (y) => `translate3d(0,${y}px,0)`\r\n      );\r\n      return /* @__PURE__ */ React.createElement(\r\n        a.div,\r\n        {\r\n          ...rest,\r\n          ref: layerRef,\r\n          style: {\r\n            position: \"absolute\",\r\n            top: 0,\r\n            bottom: 0,\r\n            left: 0,\r\n            right: 0,\r\n            backgroundSize: \"auto\",\r\n            backgroundRepeat: \"no-repeat\",\r\n            willChange: \"transform\",\r\n            [layer.horizontal ? \"height\" : \"width\"]: \"100%\",\r\n            [layer.horizontal ? \"width\" : \"height\"]: ctrl.springs.space,\r\n            WebkitTransform: translate3d,\r\n            msTransform: translate3d,\r\n            transform: translate3d,\r\n            ...rest.style\r\n          }\r\n        }\r\n      );\r\n    }\r\n  )\r\n);\r\nvar Parallax = React.memo(\r\n  React.forwardRef((props, ref) => {\r\n    const [ready, setReady] = useState(false);\r\n    const {\r\n      pages,\r\n      innerStyle: _innerStyle,\r\n      config = configs.slow,\r\n      enabled = true,\r\n      horizontal = false,\r\n      children,\r\n      ...rest\r\n    } = props;\r\n    const containerRef = useRef(void 0);\r\n    const contentRef = useRef(void 0);\r\n    const state = useMemoOne(\r\n      () => ({\r\n        config,\r\n        horizontal,\r\n        busy: false,\r\n        space: 0,\r\n        current: 0,\r\n        offset: 0,\r\n        controller: new Controller({ scroll: 0 }),\r\n        layers: /* @__PURE__ */ new Set(),\r\n        container: containerRef,\r\n        content: contentRef,\r\n        update: () => update(),\r\n        scrollTo: (offset) => scrollTo(offset),\r\n        stop: () => state.controller.stop()\r\n      }),\r\n      []\r\n    );\r\n    useEffect(() => {\r\n      state.config = config;\r\n    }, [config]);\r\n    React.useImperativeHandle(ref, () => state);\r\n    const update = () => {\r\n      const container = containerRef.current;\r\n      if (!container) return;\r\n      const spaceProp = horizontal ? \"clientWidth\" : \"clientHeight\";\r\n      state.space = container[spaceProp];\r\n      const scrollType = getScrollType(horizontal);\r\n      if (enabled) {\r\n        state.current = container[scrollType];\r\n      } else {\r\n        container[scrollType] = state.current = state.offset * state.space;\r\n      }\r\n      const content = contentRef.current;\r\n      if (content) {\r\n        const sizeProp = horizontal ? \"width\" : \"height\";\r\n        content.style[sizeProp] = `${state.space * pages}px`;\r\n      }\r\n      state.layers.forEach((layer) => {\r\n        layer.setHeight(state.space, true);\r\n        layer.setPosition(state.space, state.current, true);\r\n      });\r\n    };\r\n    const scrollTo = (offset) => {\r\n      const container = containerRef.current;\r\n      const scrollType = getScrollType(horizontal);\r\n      state.offset = offset;\r\n      state.controller.set({ scroll: state.current });\r\n      state.controller.stop().start({\r\n        scroll: offset * state.space,\r\n        config,\r\n        onChange({ value: { scroll } }) {\r\n          container[scrollType] = scroll;\r\n        }\r\n      });\r\n    };\r\n    const onScroll = (event) => {\r\n      if (!state.busy) {\r\n        state.busy = true;\r\n        state.current = event.target[getScrollType(horizontal)];\r\n        raf.onStart(() => {\r\n          state.layers.forEach(\r\n            (layer) => layer.setPosition(state.space, state.current)\r\n          );\r\n          state.busy = false;\r\n        });\r\n      }\r\n    };\r\n    useEffect(() => state.update());\r\n    useOnce(() => {\r\n      setReady(true);\r\n      const onResize = () => {\r\n        const update2 = () => state.update();\r\n        raf.onFrame(update2);\r\n        setTimeout(update2, 150);\r\n      };\r\n      window.addEventListener(\"resize\", onResize, false);\r\n      return () => window.removeEventListener(\"resize\", onResize, false);\r\n    });\r\n    const overflow = enabled ? {\r\n      overflowY: horizontal ? \"hidden\" : \"scroll\",\r\n      overflowX: horizontal ? \"scroll\" : \"hidden\"\r\n    } : {\r\n      overflowY: \"hidden\",\r\n      overflowX: \"hidden\"\r\n    };\r\n    return /* @__PURE__ */ React.createElement(\r\n      a.div,\r\n      {\r\n        ...rest,\r\n        ref: containerRef,\r\n        onScroll,\r\n        onWheel: enabled ? state.stop : void 0,\r\n        onTouchStart: enabled ? state.stop : void 0,\r\n        style: {\r\n          position: \"absolute\",\r\n          width: \"100%\",\r\n          height: \"100%\",\r\n          ...overflow,\r\n          WebkitOverflowScrolling: \"touch\",\r\n          WebkitTransform: START_TRANSLATE,\r\n          msTransform: START_TRANSLATE,\r\n          transform: START_TRANSLATE_3D,\r\n          ...rest.style\r\n        }\r\n      },\r\n      ready && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\r\n        a.div,\r\n        {\r\n          ref: contentRef,\r\n          style: {\r\n            overflow: \"hidden\",\r\n            position: \"absolute\",\r\n            [horizontal ? \"height\" : \"width\"]: \"100%\",\r\n            [horizontal ? \"width\" : \"height\"]: state.space * pages,\r\n            WebkitTransform: START_TRANSLATE,\r\n            msTransform: START_TRANSLATE,\r\n            transform: START_TRANSLATE_3D,\r\n            ...props.innerStyle\r\n          }\r\n        },\r\n        /* @__PURE__ */ React.createElement(ParentContext.Provider, { value: state }, mapChildrenRecursive(\r\n          children,\r\n          (child) => !child.props.sticky && child\r\n        ))\r\n      ), /* @__PURE__ */ React.createElement(ParentContext.Provider, { value: state }, mapChildrenRecursive(\r\n        children,\r\n        (child) => child.props.sticky && child\r\n      )))\r\n    );\r\n  })\r\n);\r\nexport {\r\n  Parallax,\r\n  ParallaxLayer\r\n};\r\n"],
  "mappings": "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",
  "names": ["config"]
}
